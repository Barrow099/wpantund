<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>wpantund: wpantund, Userspace WPAN Network Daemon</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">wpantund
   </div>
   <div id="projectbrief">Wireless Network Interface Daemon for Low-Power Wireless SoCs</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">wpantund, Userspace WPAN Network Daemon </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><code>wpantund</code> is a user-space network interface driver/daemon that provides a native IPv6 network interface to a low-power wireless <b>Network Co-Processor</b> (or <em>NCP</em>). It was written and developed by Nest Labs to make supporting <a href="http://threadgroup.org">Thread</a> connectivity on unix-like operating systems more straightforward.</p>
<p><code>wpantund</code> is designed to marshall all access to the NCP, ensuring that it always remains in a consistent, well-defined state.</p>
<p>This is not an official Google product.</p>
<h2>Feature and Architecture Summary</h2>
<p><code>wpantund</code> provides:</p>
<ul>
<li>...a native IPv6 interface to an NCP.</li>
<li>...a command line interface (<code>wpanctl</code>) for managing and configuring the NCP.</li>
<li>...a DBus API for managing and configuring the NCP.</li>
<li>...a way to reliably manage the power state of the NCP.</li>
<li>...a uniform mechanism for handling NCP firmware updates.</li>
</ul>
<p>The architecture and design of <code>wpantund</code> has been motivated by the following design goals (in no particular order):</p>
<ul>
<li>Portability across unix-like operating systems (Currently supports Linux and OS X. BSD support should be fairly trivial to add)</li>
<li>Require few runtime dependencies (DBus, with boost needed when building)</li>
<li>Single-threaded architecture, with heavy use of asynchronous I/O</li>
<li>Power efficiency (0% CPU usage when idle)</li>
<li>Allow management interface to be used by multiple independent applications simultaneously.</li>
<li>Allow multiple instances of <code>wpantund</code> to gracefully co-exist on a single machine.</li>
<li>Modular, plugin-based architecture (All details for communicating with a specific NCP stack are implemented as plugins)</li>
</ul>
<p>Currently, the following NCP plugins are included:</p>
<ul>
<li><code>src/ncp-spinel</code>: Supports NCPs that communicate using the ./third_party/openthread/src/ncp/PROTOCOL.md "Spinel NCP
    Protocol", used by NCPs running <a href="https://github.com/openthread/openthread/">OpenThread</a>.</li>
<li><code>src/ncp-dummy</code>: A dummy NCP plug-in implementation meant to be the starting point for implementing new NCP plug-ins.</li>
</ul>
<h2>License</h2>
<p><code>wpantund</code> is open-source software, released under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>. See the file <a href="./LICENSE"><code>LICENSE</code></a> for more information.</p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the <a href="./LICENSE">License</a> for the specific language governing permissions and limitations under the License.</p>
<h2>Conceptual Overview</h2>
<p><code>wpantund</code> is conceptually similar in purpose to the point-to-point daemon (<code>pppd</code>, commonly used on unix platforms to provide network connectivity via a dial-up modems)&mdash;except that instead of communicating with a dial-up modem, <code>wpantund</code> is communicating with an NCP.</p>
<p><code>wpantund</code> communicates with the NCP via an abstraction of a asynchronous stream socket, which could be any of the following:</p>
<ul>
<li>A real serial port (UART) connected to the NCP (preferably with hardware flow control)</li>
<li>The stdin and stdout from a subprocess (For supporting SPI interfaces using a translator program, or debugging virtual stacks)</li>
<li>A TCP socket (For debugging, not recommended for production)</li>
</ul>
<p>Unlike a dial-up modem, NCPs often have a rich management interface for performing operations like forming a network, joining a network, scanning for nearby networks, etc. To perform these operations, <code>wpantund</code> includes a command line utility called <code>wpanctl</code>. Applications that need to directly configure the network interface can also communicate directly with <code>wpantund</code> using its DBus API.</p>
<p>To expose a native IPv6 network interface to the host operating system, <code>wpantund</code> uses the <code>tun</code> driver on Linux and the <code>utun</code> driver on OS X. On Linux, the default name for this interface is <code>wpan0</code>. On OS X, the default name is <code>utun0</code>.</p>
<h2>Usage Overview</h2>
<p>The behavior of <code>wpantund</code> is determined by its configuration parameters, which may be specified in a configuration file (typically <code>/etc/wpantund.conf</code>) or at the command line. A typical configuration file might look like this: (For a more thorough explanation of available configuration parameters, see the <a href="./src/wpantund/wpantund.conf">included example</a>). </p><pre class="fragment"># Try to name the network interface `wpan0`.
# If not possible, a different name will be used.
Config:TUN:InterfaceName      "wpan0"

# The pathname of the socket used to communicate
# with the NCP.
Config:NCP:SocketPath         "/dev/ttyUSB0"

# The name of the driver plugin to use. The chosen
# plugin must support the NCP you are trying to use.
Config:NCP:DriverName         "spinel"

# Drop root privileges after opening all sockets
Config:Daemon:PrivDropToUser  "nobody"

# Use a CCA Threshold of -70db
NCP:CCAThreshold              "-70"
</pre><p>When up and running, <code>wpanctl</code> can be used to check the status of the interface and perform various management operations. For example, to check the general status of an interface: </p><pre class="fragment">$ sudo wpanctl status
wpan0 =&gt; [
    "NCP:State" =&gt; "offline"
    "Daemon:Enabled" =&gt; true
    "NCP:Version" =&gt; "OPENTHREAD/g1651a47; May 23 2016 17:23:24"
    "Daemon:Version" =&gt; "0.07.00 (May 23 2016 12:58:54)"
    "Config:NCP:DriverName" =&gt; "spinel"
    "NCP:HardwareAddress" =&gt; [F1D92A82C8D8FE43]
]
</pre><p>Here we see that the NCP is in the <code>offline</code> state, along with a few additional bits of information like the version of the NCP and it's hardware address. From here we can easily form a new network: </p><pre class="fragment">$ sudo wpanctl form "wpantund-testnet"
Forming WPAN "wpantund-testnet" as node type router
Successfully formed!
$
</pre><p>And now if we check the status, we will see a lot more information: </p><pre class="fragment">$ sudo wpanctl status
wpan0 =&gt; [
    "NCP:State" =&gt; "associated"
    "Daemon:Enabled" =&gt; true
    "NCP:Version" =&gt; "OPENTHREAD/g1651a47; May 23 2016 17:23:24"
    "Daemon:Version" =&gt; "0.07.00 (May 23 2016 12:58:54)"
    "Config:NCP:DriverName" =&gt; "spinel"
    "NCP:HardwareAddress" =&gt; [F1D92A82C8D8FE43]
    "NCP:Channel" =&gt; 23
    "Network:NodeType" =&gt; "leader"
    "Network:Name" =&gt; "wpantund-testnet"
    "Network:XPANID" =&gt; 0x09717AEF221F66FB
    "Network:PANID" =&gt; 0xBFCD
    "IPv6:LinkLocalAddress" =&gt; "fe80::f3d9:2a82:c8d8:fe43"
    "IPv6:MeshLocalAddress" =&gt; "fd09:717a:ef22::9a5d:5d1e:5527:5fc8"
    "IPv6:MeshLocalPrefix" =&gt; "fd09:717a:ef22::/64"
]
$ ifconfig wpan0
wpan0: flags=8051&lt;UP,POINTOPOINT,RUNNING,MULTICAST&gt; mtu 1280
    inet6 fe80::f3d9:2a82:c8d8:fe43%wpan0 prefixlen 10 scopeid 0x15
    inet6 fd09:717a:ef22::9a5d:5d1e:5527:5fc8 prefixlen 64
</pre><p>If compiled with <code>libreadline</code> or <code>libedit</code>, <code>wpanctl</code> supports an interactive console, which is very convenient. All commands support online help: simply type <code>help</code> to get a list of supported commands, or add <code>-h</code> to a command to get help with that specific command.</p>
<p>See the wiki for more information: <a href="https://github.com/openthread/wpantund/wiki">https://github.com/openthread/wpantund/wiki</a></p>
<h2>Support</h2>
<p>Submit bugs and feature requests to <a href="https://github.com/openthread/wpantund/issues">issue tracker</a>. We use the following mailing lists for discussion and announcements:</p>
<ul>
<li><a href="https://groups.google.com/forum/#!forum/wpantund-announce">wpantund-announce</a> - Official Anouncements About <code>wpantund</code></li>
<li><a href="https://groups.google.com/forum/#!forum/wpantund-users">wpantund-users</a> - <code>wpantund</code> User Discussion Group</li>
<li><a href="https://groups.google.com/forum/#!forum/wpantund-devel">wpantund-devel</a> - <code>wpantund</code> Developer Discussion Group</li>
</ul>
<h2>Authors and Contributors</h2>
<p>The following people have significantly contributed to the design and development of <code>wpantund</code>:</p>
<ul>
<li>Robert Quattlebaum</li>
<li>Marcin Szczodrak</li>
<li>Vaas Krishnamurthy</li>
<li>Arjuna Siva</li>
<li>Abtin Keshavarzian</li>
</ul>
<p>If you would like to contribute to this project, please read <a class="el" href="md_CONTRIBUTING.html">CONTRIBUTING.md</a> first. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Sep 15 2016 11:58:11 for wpantund by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
